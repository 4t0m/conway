{"version":3,"sources":["webpack:///webpack/bootstrap bb355e5e700b1b63405d","webpack:///./lib/util.js","webpack:///./lib/cell.js","webpack:///./lib/command.js","webpack:///./lib/board.js","webpack:///./lib/game.js","webpack:///./lib/adversary.js","webpack:///./lib/cursor.js","webpack:///./lib/generals.js","webpack:///./lib/special_cells.js","webpack:///./lib/tree_search.js"],"names":["colors","eachHTMLCell","gameBoard","callback","grid","forEach","row","rowIdx","cell","colIdx","htmlCell","document","getElementById","populateHTML","htmlGrid","htmlRow","insertRow","id","insertCell","classList","add","color","mountain","king","innerHTML","count","contains","city","updateHTML","remove","isHidden","unselectOtherCells","board","shuffle","array","counter","length","index","Math","floor","random","temp","getNextCoordinates","direction","nextId","coordinates","split","map","parseInt","char","console","log","Cell","otherCell","Command","nextCoordinates","nextCell","capture","removeFog","Board","populateBoard","kings","allCells","filter","i","push","j","k","pop","reduce","row1","row2","concat","find","getElementsByClassName","coordinatePairs","pair","every","num","Game","cursor","adversary","startIntervals","userCommand","nextMove","execute","adversaryCommand","winner","endGame","cities","generateTroops","capturedTerritory","movementInterval","setInterval","iterateMovement","bind","cityInterval","iterateCityGeneration","territoryInterval","iterateTerritoryGeneration","clearInterval","removeIntervals","setTimeout","winModal","winMessage","playButton","quitButton","content","Adversary","moves","mode","explore","attack","shift","search","startingCell","continueCount","newMoves","findCell","join","shouldCapture","otherDirections","otherDirection","blueTerritory","adjacentCells","currentLargest","Cursor","currentHTMLCell","coord","currentCell","nextHTMLCell","game","selectCell","e","target","currentTarget","stopPropagation","addEventListener","key","clearMoves","move","infoBox","winBox","openInfo","closeInfo","closeWin","playAgain","reset","firstChild","removeChild","aboutButton","closeAboutButton","closeWinButton","newGameButton","playAgainButton","City","King","Mountain","Object","freeze","findPath","startCell","targetCell"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bb355e5e700b1b63405d","const colors = [\"red\", \"blue\", \"unoccupied\"];\n\nconst eachHTMLCell = function (gameBoard, callback) {\n  gameBoard.grid.forEach( (row, rowIdx) => {\n    row.forEach((cell, colIdx) => {\n      let htmlCell = document.getElementById(`${rowIdx}-${colIdx}`);\n      callback(htmlCell);\n    });\n  });\n};\n\nexport const populateHTML = function (gameBoard, htmlGrid) {\n  gameBoard.grid.forEach( (row, rowIdx) => {\n    let htmlRow = htmlGrid.insertRow();\n    htmlRow.id = rowIdx;\n    row.forEach( (cell, colIdx) => {\n      let htmlCell = htmlRow.insertCell();\n      htmlCell.id = `${rowIdx}-${colIdx}`;\n      htmlCell.classList.add(cell.color);\n\n      if (cell.mountain) {\n        htmlCell.classList.add('mountain');\n      } else {\n        cell.id = htmlCell.id;\n        if (cell.king) {\n          htmlCell.innerHTML = cell.count;\n          htmlCell.classList.add('king');\n          if (htmlCell.classList.contains('red')) {\n            htmlCell.classList.add('selected');\n          }\n        } else if (cell.city) {\n          htmlCell.innerHTML = cell.count;\n          htmlCell.classList.add('city');\n        }\n      }\n    });\n  });\n};\n\n// refactor this to use eachHTMLCell\nexport const updateHTML = function (gameBoard) {\n  gameBoard.grid.forEach( (row, rowIdx) => {\n    row.forEach((cell, colIdx) => {\n      let htmlCell = document.getElementById(`${rowIdx}-${colIdx}`);\n      if (!cell.mountain) {\n        if (cell.color !== 'unoccupied' || cell.city) {\n          htmlCell.innerHTML = cell.count;\n        }\n        colors.forEach((color) => htmlCell.classList.remove(color));\n        htmlCell.classList.add(cell.color);\n      }\n\n      htmlCell.isHidden ? htmlCell.classList.add('hidden') : htmlCell.classList.remove('hidden');\n    });\n  });\n};\n\nexport const unselectOtherCells = function (board) {\n  eachHTMLCell(board, (htmlCell) => (htmlCell.classList.remove('selected')));\n};\n\nexport const shuffle = function (array) {\n    let counter = array.length;\n\n    while (counter > 0) {\n        let index = Math.floor(Math.random() * counter);\n\n        counter--;\n\n        let temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n};\n\nexport const getNextCoordinates = function (id, direction) {\n    let nextId;\n    let coordinates = id.split('-').map(char => parseInt(char));\n\n    switch (direction) {\n      case 'up':\n        return [coordinates[0]-1, coordinates[1]];\n      case 'down':\n        return [coordinates[0]+1, coordinates[1]];\n      case 'left':\n        return [coordinates[0], coordinates[1]-1];\n      case 'right':\n        return [coordinates[0], coordinates[1]+1];\n      default:\n        console.log('Invalid Move');\n    }\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","class Cell {\n  constructor() {\n    this.color = \"unoccupied\";\n    this.count = 0;\n    this.isHidden = false;\n    this.id = null;\n  }\n\n  capture(otherCell) {\n    if (this.count > 1) {\n      if (this.color === otherCell.color) {\n        otherCell.count = otherCell.count + this.count - 1;\n      } else {\n        if (this.count - 1 > otherCell.count) {\n          otherCell.count = this.count - otherCell.count - 1;\n          otherCell.color = this.color;\n        } else {\n          otherCell.count = otherCell.count - (this.count - 1);\n        }\n      }\n      this.count = 1;\n    }\n  }\n\n  generateTroops() {\n    this.count++;\n  }\n\n  reveal() {\n    this.isHidden = false;\n  }\n}\n\nexport default Cell;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cell.js","import { getNextCoordinates } from './util';\n\nclass Command {\n  constructor(cell, direction){\n    this.cell = cell;\n    this.nextCoordinates = getNextCoordinates(cell.id, direction);\n    this.direction = direction;\n  }\n\n  execute(board) {\n    let nextCell = board.grid[this.nextCoordinates[0]][this.nextCoordinates[1]];\n    if (this.cell && this.cell.color !== 'unoccupied' && !nextCell.mountain) {\n      // TODO remove direction class from currentHTMLCell\n      this.cell.capture(nextCell);\n\n      // TODO remove fog from adjacent pieces\n      if (this.cell.color === 'red') {\n        this.removeFog(board);\n      }\n    }\n  }\n\n  removeFog(board) {\n    // get all htmlCells adjacent to the nextHTMLCell, and remove fog class\n    // actually, just get normal cells, call reveal on them, and let update do\n    // the work of removing/applying the fog\n\n    // use board.borderingCells\n  }\n}\n\nexport default Command;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/command.js","import Cell from './cell';\nimport { City, Mountain, King } from './special_cells';\nimport { shuffle } from './util';\n\nclass Board {\n  constructor() {\n    this.grid = [];\n    this.populateBoard();\n    this.kings = this.allCells().filter(cell => cell.king);\n  }\n\n  populateBoard() {\n    // create an array with all cities, mountains, and cells\n    let allCells = [];\n\n    for (var i = 0; i < 80; i++) {\n      allCells.push(new Cell());\n    }\n\n    for (var j = 0; j < 10; j++) {\n      allCells.push(Mountain);\n    }\n\n    for (var k = 0; k < 8; k++) {\n      allCells.push(new City());\n    }\n\n    allCells.push(new King('red'));\n    allCells.push(new King('blue'));\n\n    // shuffle array\n    shuffle(allCells);\n\n    // iterate through shuffled array and push things into the grid\n    for (var rowIdx = 0; rowIdx < 10; rowIdx++) {\n      let row = [];\n      for (var colIdx = 0; colIdx < 10; colIdx++) {\n        row.push(allCells.pop());\n      }\n\n      this.grid.push(row);\n    }\n  }\n\n  allCells() {\n    return this.grid.reduce( (row1, row2) => row1.concat(row2));\n  }\n\n  cities() {\n    return this.allCells().filter(cell => cell.city);\n  }\n\n  capturedTerritory() {\n    return this.allCells().filter(cell => cell.color !== 'unoccupied');\n  }\n\n  findCell(id) {\n    return this.allCells().find(cell => cell.id === id);\n  }\n\n  winner() {\n    if (document.getElementsByClassName('king red').length === 2) {\n      return 'red';\n    } else if (document.getElementsByClassName('king blue').length === 2) {\n      return 'blue';\n    } else {\n      return false;\n    }\n  }\n\n  blueTerritory() {\n    return this.allCells().filter(cell => cell.color === 'blue');\n  }\n\n  adjacentCells(cell) {\n    let coordinates = cell.id.split('-').map(char => parseInt(char));\n    let coordinatePairs = [[coordinates[0]-1, coordinates[1]],\n                           [coordinates[0]+1, coordinates[1]],\n                           [coordinates[0], coordinates[1]-1],\n                           [coordinates[0], coordinates[1]+1]]\n     return coordinatePairs.filter(pair => pair.every(num => num >= 0 && num <= 9)).map(pair => this.grid[pair[0]][pair[1]])\n  }\n\n  reset() {\n    this.grid = [];\n    this.populateBoard();\n    this.kings = this.allCells().filter(cell => cell.king);\n  }\n}\n\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import Cursor from './cursor';\nimport Adversary from './adversary';\n\nclass Game {\n  constructor(board) {\n    this.board = board;\n    this.cursor = new Cursor(board);\n    this.adversary = new Adversary(board);\n\n    this.startIntervals();\n  }\n\n\n  iterateMovement() {\n    let userCommand = this.cursor.nextMove();\n    if (userCommand) {\n      userCommand.execute(this.board);\n    }\n\n    let adversaryCommand = this.adversary.nextMove();\n    if (adversaryCommand) {\n      adversaryCommand.execute(this.board);\n    }\n\n    //TODO this is terrible!  it ends the game before you actually take the enemy piece\n    if (this.board.winner()) {\n      this.endGame(this.board.winner());\n    }\n  }\n\n  iterateCityGeneration() {\n    this.board.cities().forEach( (city) => {\n      if (city.color !== 'unoccupied' || city.count < 40) {\n        city.generateTroops();\n      }\n    });\n  }\n\n  iterateTerritoryGeneration() {\n    this.board.capturedTerritory().forEach((cell) => cell.generateTroops());\n  }\n\n  startIntervals() {\n    this.movementInterval = setInterval(this.iterateMovement.bind(this), 500);\n    this.cityInterval = setInterval(this.iterateCityGeneration.bind(this), 1000);\n    this.territoryInterval = setInterval(this.iterateTerritoryGeneration.bind(this), 25000);\n  }\n\n  removeIntervals() {\n    clearInterval(this.movementInterval);\n    clearInterval(this.cityInterval);\n    clearInterval(this.territoryInterval);\n  }\n\n  endGame(winner) {\n    this.removeIntervals();\n\n    setTimeout(() => {\n      let winModal = document.getElementById('win-modal');\n      let winMessage = document.getElementById('win-message');\n      let playButton = document.getElementById('play-button');\n      let quitButton = document.getElementById('play-button');\n      let content = winner === 'red' ? \"Congrats! You win!\" : \"Sorry, want to try again?\"\n\n\n      winModal.classList.remove('is-hidden');\n      winMessage.innerHTML = content;\n    }, 10)\n\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import Command from './command';\nimport { shuffle, getNextCoordinates } from './util';\nimport { findPath } from './tree_search';\n\nclass Adversary {\n  constructor(board) {\n    this.board = board;\n    this.king = board.cities().find(cell => cell.king && cell.color === 'blue');\n    this.moves = [];\n    this.mode = 'explore';\n  }\n\n  nextMove() {\n    this.mode === 'explore' ? this.explore() : this.attack();\n\n    while (this.moves[0].cell.color !== 'blue' || this.moves[0].cell.count < 2) {\n      this.moves.shift();\n      if (this.moves.length === 0) {\n        return false;\n      }\n    }\n\n    return this.moves.shift();\n  }\n\n  explore() {\n    // TODO move logic for determining mode into nextMove\n    if (false /*this.canSeePlayer()*/) {\n      this.moves = [];\n      this.mode = 'attack';\n      this.attack();\n    } else if (this.moves.length === 0) {\n      this.moves = this.moves.concat(this.search(this.king, 'up'));\n      this.moves = this.moves.concat(this.search(this.king, 'down'));\n      this.moves = this.moves.concat(this.search(this.king, 'left'));\n      this.moves = this.moves.concat(this.search(this.king, 'right'));\n    }\n  }\n\n  search(startingCell, direction, continueCount = 4) {\n    let newMoves = [];\n    let cell = startingCell;\n\n    for (var i = 0; i < 10; i++) {\n      if (cell) {\n        let nextCoordinates = getNextCoordinates(cell.id, direction);\n        let nextCell = this.board.findCell(nextCoordinates.join('-'));\n\n        if (this.shouldCapture(cell, nextCell)) {\n          newMoves.push(new Command(cell, direction));\n          cell = nextCell;\n        } else if (continueCount > 0) {\n          let otherDirections;\n          switch (direction) {\n            case 'up':\n            case 'down':\n              otherDirections = ['left', 'right'];\n              break;\n            case 'left':\n            case 'right':\n              otherDirections = ['up', 'down'];\n              break;\n            default:\n              console.log(\"Bad direction input\");\n          }\n          let otherDirection = shuffle(otherDirections).pop();\n          return newMoves.concat(this.search(cell, otherDirection, continueCount - 1));\n        } else {\n          return newMoves;\n        }\n      }\n    }\n\n    return newMoves;\n  }\n\n  shouldCapture(cell, nextCell) {\n    return (nextCell &&\n    !nextCell.mountain &&\n    !(nextCell.city && nextCell.city.color !== 'blue' && cell.count + 2 < nextCell.count));\n  }\n\n  attack() {\n    // send armies at player squares.  naively follow back to user.\n    // okay, so I need something that takes two cells and builds a command path between the two cells\n    // after it gets to this arbitrary point of contact, it keeps taking red cells\n    // when it runs out of cells on that path, it goes a randomly selected point of contact and repeats\n    // when the attacking army runs out of troops, it takes the strongest available army and does the above\n    // if (this.moves.length === 0) {\n    //   let origin = this.largestArmy();\n    //   let contactCell = this.canSeePlayer();\n    //   let attackVector = findPath(origin, contactCell, this.board);\n    //\n    //   // once it has reached the contact point, start taking pieces at random\n    //   // let currentCell = contactCell;\n    //   // for (var i = 0; i < 10; i++) {\n    //   //   attackVector.push(new Command)\n    //   this.moves = attackVector;\n    //   }\n    //\n    // }\n  }\n\n  kill() {\n    // once adversary has seen the playerKing, send armies directly to enemy king.\n    // okay, so I need something that takes two cells and builds a command path between the two cells\n    // then constantly build that path between the most powerful cell and the playerKing\n  }\n\n\n  defend() {\n    // take strongest armies and move them back to the base (maybe multiply by distance?)\n  }\n\n  canSeePlayer() {\n    // eventually return a random cell that works, not just the first one\n    this.board.blueTerritory().forEach(cell => {\n      this.board.adjacentCells(cell).forEach(otherCell => {\n        if (otherCell.color === 'red') {\n          return cell;\n        }\n      });\n    });\n    return false;\n  }\n\n\n  seenByPlayer() {\n\n  }\n\n  largestArmy() {\n    let currentLargest;\n    this.board.blueTerritory.forEach(cell => {\n      if (!currentLargest || cell.count > currentLargest.count) {\n        currentLargest = cell;\n      }\n    });\n\n    return currentLargest;\n  }\n}\n\nexport default Adversary;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/adversary.js","import Command from './command';\nimport { getNextCoordinates } from './util';\n\nclass Cursor {\n  constructor(board) {\n    this.board = board;\n    this.moves = [];\n  }\n\n  move(direction) {\n    let currentHTMLCell = document.getElementsByClassName('selected')[0];\n    let nextCoordinates = getNextCoordinates(currentHTMLCell.id, direction);\n\n    if(nextCoordinates.every(coord => coord >= 0 && coord <= 9)) {\n      let currentCell = this.board.findCell(currentHTMLCell.id);\n      let nextHTMLCell = document.getElementById(nextCoordinates.join('-'));\n\n      currentHTMLCell.classList.remove('selected');\n      nextHTMLCell.classList.add('selected');\n\n      if (currentCell) {\n        // TODO Add direction class to the corresponding htmlCell (to render queue)\n        this.moves.push(new Command(currentCell, direction));\n      }\n    }\n  }\n\n  clearMoves() {\n    this.moves = [];\n  }\n\n  nextMove() {\n    if (this.moves.length === 0) {\n      return false;\n    }\n\n    while (this.moves[0].cell.color !== 'red' || this.moves[0].cell.count < 2) {\n      // TODO remove the direction class from the corresponding htmlCell\n      this.moves.shift();\n      if (this.moves.length === 0) {\n        return false;\n      }\n    }\n\n    return this.moves.shift();\n  }\n\n  // getNextCoordinates(id, direction) {\n  //   let nextId;\n  //   let coordinates = id.split('-').map(char => parseInt(char));\n  //\n  //   switch (direction) {\n  //     case 'up':\n  //       return [coordinates[0]-1, coordinates[1]];\n  //     case 'down':\n  //       return [coordinates[0]+1, coordinates[1]];\n  //     case 'left':\n  //       return [coordinates[0], coordinates[1]-1];\n  //     case 'right':\n  //       return [coordinates[0], coordinates[1]+1];\n  //     default:\n  //       console.log('Invalid Move');\n  //   }\n  // }\n}\n\nexport default Cursor;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cursor.js","import Game from './game';\nimport Board from './board';\nimport { populateHTML, updateHTML, unselectOtherCells } from './util';\n\nlet board = new Board();\nlet game = new Game(board);\nlet cursor = game.cursor;\nlet htmlGrid = document.getElementById(\"grid\");\n\npopulateHTML(board, htmlGrid);\n\nfunction selectCell(e) {\n    if (e.target !== e.currentTarget) {\n        let cell = e.target;\n        if (!cell.classList.contains('selected')) {\n          // TODO: instead, store the previously selected cell and just remove it from that\n          unselectOtherCells(board);\n          cell.classList.add('selected');\n        }\n    }\n    e.stopPropagation();\n}\n\nhtmlGrid.addEventListener(\"click\", selectCell);\n\nkey('q', () => cursor.clearMoves());\nkey('w', () => cursor.move('up'));\nkey('up', () => cursor.move('up'));\nkey('s', () => cursor.move('down'));\nkey('down', () => cursor.move('down'));\nkey('a', () => cursor.move('left'));\nkey('left', () => cursor.move('left'));\nkey('d', () => cursor.move('right'));\nkey('right', () => cursor.move('right'));\n\nsetInterval( (() => updateHTML(board)), 500);\n\nlet infoBox = document.getElementById('about-game');\nlet winBox = document.getElementById('win-modal');\n\nfunction openInfo(){\n  game.removeIntervals();\n  infoBox.classList.remove(\"is-hidden\");\n}\n\nfunction closeInfo(){\n  if (!board.winner()) {\n    game.startIntervals();\n   }\n  infoBox.classList.add(\"is-hidden\");\n}\n\nfunction closeWin(){\n  winBox.classList.add(\"is-hidden\");\n}\n\nfunction playAgain() {\n  board.reset();\n  game.removeIntervals();\n  game = new Game(board);\n  cursor = game.cursor;\n\n  while (htmlGrid.firstChild) {\n    htmlGrid.removeChild(htmlGrid.firstChild);\n  }\n\n  populateHTML(board, htmlGrid);\n  winBox.classList.add(\"is-hidden\");\n  infoBox.classList.add(\"is-hidden\");\n}\n\n\nlet aboutButton = document.getElementById(\"info\");\naboutButton.addEventListener(\"click\", openInfo);\nlet closeAboutButton = document.getElementById('quit-button-info');\ncloseAboutButton.addEventListener(\"click\", closeInfo);\nlet closeWinButton = document.getElementById('quit-button');\ncloseWinButton.addEventListener(\"click\", closeWin);\nlet newGameButton = document.getElementById(\"play-button-info\");\nnewGameButton.addEventListener(\"click\", playAgain);\nlet playAgainButton = document.getElementById(\"play-button\");\nplayAgainButton.addEventListener(\"click\", playAgain);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generals.js","import Cell from './cell';\n\nclass City extends Cell {\n  constructor() {\n    super();\n    this.city = true;\n    this.count = 40;\n  }\n}\n\nclass King extends City {\n  constructor(color) {\n    super();\n    this.king = true;\n    this.color = color;\n    this.count = 1;\n  }\n}\n\nlet Mountain = new Cell();\nMountain.mountain = true;\nObject.freeze(Mountain);\n\n\n\nexport { City, Mountain, King };\n\n\n\n// WEBPACK FOOTER //\n// ./lib/special_cells.js","import Command from './command';\n\n\nexport const findPath = function (startCell, targetCell, board) {\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tree_search.js"],"sourceRoot":""}